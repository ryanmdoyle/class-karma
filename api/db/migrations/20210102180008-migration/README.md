# Migration `20210102180008-migration`

This migration has been generated by Ryan at 1/2/2021, 10:00:08 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Behavior" ALTER COLUMN "groupId" DROP NOT NULL

ALTER TABLE "Enrollment" ALTER COLUMN "groupId" DROP NOT NULL

ALTER TABLE "Feedback" ALTER COLUMN "behaviorId" DROP NOT NULL,
ALTER COLUMN "groupId" DROP NOT NULL

ALTER TABLE "Redeemed" ALTER COLUMN "rewardId" DROP NOT NULL

ALTER TABLE "Reward" ALTER COLUMN "groupId" DROP NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201231233648-migration..20210102180008-migration
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider      = "prisma-client-js"
@@ -35,42 +35,42 @@
   userId    String
 }
 model Feedback {
-  id         String   @id @default(uuid())
-  createdAt  DateTime @default(now())
-  user       User     @relation(fields: [userId], references: [id])
+  id         String    @id @default(uuid())
+  createdAt  DateTime  @default(now())
+  user       User      @relation(fields: [userId], references: [id])
   userId     String
-  behavior   Behavior @relation(fields: [behaviorId], references: [id])
-  behaviorId String
-  group      Group    @relation(fields: [groupId], references: [id])
-  groupId    String
+  behavior   Behavior? @relation(fields: [behaviorId], references: [id])
+  behaviorId String?
+  group      Group?    @relation(fields: [groupId], references: [id])
+  groupId    String?
 }
 model Behavior {
   id       String     @id @default(uuid())
   name     String
   value    Int
-  group    Group      @relation(fields: [groupId], references: [id])
-  groupId  String
+  group    Group?     @relation(fields: [groupId], references: [id])
+  groupId  String?
   feedback Feedback[]
 }
 model Redeemed {
   id        String   @id @default(uuid())
   user      User     @relation(fields: [userId], references: [id])
   userId    String
-  reward    Reward   @relation(fields: [rewardId], references: [id])
-  rewardId  String
+  reward    Reward?  @relation(fields: [rewardId], references: [id])
+  rewardId  String?
   createdAt DateTime @default(now())
 }
 model Reward {
   id       String     @id @default(uuid())
   name     String
   cost     Int
-  group    Group      @relation(fields: [groupId], references: [id])
-  groupId  String
+  group    Group?     @relation(fields: [groupId], references: [id])
+  groupId  String?
   redeemed Redeemed[]
 }
 model Group {
@@ -87,10 +87,10 @@
   feedback    Feedback[]
 }
 model Enrollment {
-  id      String @id @default(uuid())
-  user    User   @relation(fields: [userId], references: [id])
+  id      String  @id @default(uuid())
+  user    User    @relation(fields: [userId], references: [id])
   userId  String
-  group   Group  @relation(fields: [groupId], references: [id])
-  groupId String
+  group   Group?  @relation(fields: [groupId], references: [id])
+  groupId String?
 }
```


